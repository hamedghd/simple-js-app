let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/";function n(t){(function(e){const t=["name","detailsUrl"];return"object"==typeof e?Object.keys(e).filter(e=>-1!==t.indexOf(e)).length===t.length||(window.alert("All the required keys are not provided!"),!1):(window.alert("Input is not an object!"),!1)})(t)&&e.push(t)}function o(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height;let n=t.types.map(function(e){return e.type.name});e.types=n}).catch(function(e){window.alert(e)})}return{add:n,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".list-group"),n=document.createElement("li");n.setAttribute("id",e.name),n.classList.add("group-list-item");let i=document.createElement("button");i.innerText=e.name,i.classList.add("btn"),i.classList.add("btn-primary"),i.classList.add("btn-lg"),i.setAttribute("data-target","#exampleModal"),i.setAttribute("data-toggle","modal"),n.appendChild(i),t.appendChild(n),i.addEventListener("click",function(){!function(e){o(e).then(function(){!function(e){document.querySelector(".modal-title").innerText=e.name;let t=document.querySelector(".modal-body");t.innerHTML="";let n=document.createElement("img");n.setAttribute("src",e.imageUrl),n.setAttribute("alt","pokemon-image"),n.setAttribute("class","modal-image");let o=document.createElement("p");o.innerHTML="<b>Height: </b>"+e.height;let i=document.createElement("p");i.innerHTML="<b>Types: </b><mark></mark>",t.appendChild(n),t.appendChild(o),t.appendChild(i),document.querySelector("mark").innerText=e.types}(e)})}(e)})},search:function(){let e=document.querySelector("#search-bar");e.addEventListener("input",function(){let t=document.querySelectorAll(".group-list-item"),n=e.value.toLowerCase();t.forEach(function(e){e.innerText.toLowerCase().indexOf(n)>-1?e.style.display="":e.style.display="none"})})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){window.alert(e)})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),pokemonRepository.search();
